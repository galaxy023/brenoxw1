var xhr = new XMLHttpRequest();

xhr.open('GET', 'https://ea3baf39-e1e9-4737-9c28-8a869b79c933-00-1spc09uux8b1t.riker.repl.co/', true);

xhr.onload = function() {
  if (xhr.status >= 200 && xhr.status < 300) {
let websocket = new WebSocket('wss://chicago-0-alpaca.dynast.cloud:8443/ws/2094439748-379497847-7d8c');

websocket.onopen = function() {
  console.log('Conex達o WebSocket estabelecida.');
};

websocket.onclose = function(event) {
  console.log('Conex達o WebSocket fechada:', event.code, event.reason);
};

websocket.onerror = function(error) {
  console.error('Erro na conex達o WebSocket:', error);
};

websocket.onmessage = function(event) {
  console.log('Mensagem recebida:', event.data);
};

// Para fechar a conex達o (opcional)
websocket.close();
    console.log('connected');
  } else {
    console.error('fetch error', xhr.statusText);
  }
};

xhr.onerror = function() {
  alert('cant fetch');
};

xhr.send();
